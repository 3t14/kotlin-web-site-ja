<html>
<head>
<meta charset="utf-8">


<title>ジェネリクス - Kotlin Programming Language</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/kotlin-web-site-ja/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/kotlin-web-site-ja/assets/images/apple-touch-icon.png"/>
<link rel="apple-touch-icon" sizes="72x72"
      href="/kotlin-web-site-ja/assets/images/apple-touch-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="114x114"
      href="/kotlin-web-site-ja/assets/images/apple-touch-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="144x144"
      href="/kotlin-web-site-ja/assets/images/apple-touch-icon-144x144.png"/>
<link rel="stylesheet" href="/kotlin-web-site-ja/_assets/styles.css">


<!-- Social Media tag Starts -->
<!-- Place this data between the <head> tags of your website -->
<!-- Open Graph data -->
<meta property="og:title" content="ジェネリクス - Kotlin Programming Language"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://kotlinlang.org/docs/reference/generics.html"/>
<meta property="og:image" content="https://kotlinlang.org/assets/images/open-graph/kotlin_250x250.png"/>
    <meta property="og:description"
          content="Kotlin is a statically typed programming language for the JVM, Android and the browser, 100% interoperable with Java">
<meta property="og:site_name" content="Kotlin"/>

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@kotlin">
<meta name="twitter:title" content="ジェネリクス - Kotlin Programming Language">
    <meta name="twitter:description"
          content="Kotlin is a statically typed programming language for the JVM, Android and the browser, 100% interoperable with Java">
<meta name="twitter:image:src" content="https://kotlinlang.org/assets/images/twitter-card/kotlin_800x320.png">
<!-- Social Media tag Ends -->    <script src="/kotlin-web-site-ja/_assets/default.js"></script>
    <script src="/kotlin-web-site-ja/_assets/common.js"></script>
</head>
<body>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WGLMMZ7');</script>
<!-- End Google Tag Manager -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WGLMMZ7"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div class="global-layout">

<header class="global-header">

    <div class="global-header-panel">
        <div class="g-layout">
            <a class="global-header-logo" href="/kotlin-web-site-ja/">Kotlin</a>
<nav role="navigation" class="global-nav">

    <div class="nav-links">

            <a href="/kotlin-web-site-ja/docs/reference/"
               class="nav-item "
            >
                Learn
            </a>

            <a href="/kotlin-web-site-ja/contribute.html"
               class="nav-item "
            >
                Contribute
            </a>

            <a href="http://try.kotlinlang.org"
               class="nav-item "
            >
                Try Online
            </a>
    </div>


<div id="global-search" class=" global-search" title="Search">
    <div class="search-button">
        <div class="icon"></div>
    </div>
    <div class="search-box">
        <div class="gcse-searchbox-only"
             data-resultsUrl="/search.html"
             data-newWindow="false"
        ></div>
    </div>
</div></nav>        </div>
    </div>

    <div class="g-layout">
    </div>
</header>
    <div class="g-layout global-content">
    <div class="g-grid">

        <div class="g-12">
<nav role="navigation" class="docs-nav">
        <div class="nav-item-wrap">
                <a href="/kotlin-web-site-ja/docs/reference/" class="nav-item is_active">
                        <span class="nav-item-text">
                            リファレンス
                        </span>
                </a>
        </div>
        <div class="nav-item-wrap">
                <a href="/kotlin-web-site-ja/docs/tutorials/" class="nav-item">
                    <span class="nav-item-text">
                        Tutorials
                    </span>
                </a>

        </div>
        <div class="nav-item-wrap">
                <a href="/kotlin-web-site-ja/docs/videos.html" class="nav-item">
                    <span class="nav-item-text">
                        Videos
                    </span>
                </a>

        </div>
        <div class="nav-item-wrap">
                <a href="/kotlin-web-site-ja/docs/events.html" class="nav-item">
                    <span class="nav-item-text">
                        Events
                    </span>
                </a>

        </div>
        <div class="nav-item-wrap">
                <a href="/kotlin-web-site-ja/docs/resources.html" class="nav-item">
                    <span class="nav-item-text">
                        More resources
                    </span>
                </a>

        </div>
</nav>        </div>

        <aside class="g-3">
            <div id="reference-nav">
                    <nav role="navigation" class="side-tree-nav">
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="入門">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">入門</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/basic-syntax.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">基本的な構文</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/idioms.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">イディオム</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/coding-conventions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">コーディング規約</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="基本">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">基本</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/basic-types.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">基本の型</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/packages.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">パッケージ</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/control-flow.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">制御フロー</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/returns.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">returnとジャンプ</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _opened"
                 data-id="クラスとオブジェクト">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">クラスとオブジェクト</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">クラスと継承</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/properties.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">プロパティとフィールド</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/interfaces.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">継承</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/visibility-modifiers.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">可視性修飾子</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/extensions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">拡張</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/data-classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">データクラス</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <div class="tree-item-title tree-leaf-title js-item-title js-leaf-title is_active">
                                <div class="marker"></div>
                                <div class="text">ジェネリクス</div>
                            </div>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/nested-classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">ネストされたクラス</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/enum-classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">列挙型クラス</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/object-declarations.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">オブジェクト</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/delegation.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">委譲</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/delegated-properties.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">委譲プロパティ</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="関数とラムダ">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">関数とラムダ</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/functions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">関数</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/lambdas.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">ラムダ</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/inline-functions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">インライン関数</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="Other">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Other</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/multi-declarations.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Destructuring Declarations</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/collections.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Collections</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/ranges.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Ranges</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/typecasts.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Type Checks and Casts</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/this-expressions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">This expressions</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/equality.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Equality</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/operator-overloading.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Operator overloading</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/null-safety.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Null Safety</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/exceptions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Exceptions</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/annotations.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Annotations</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/reflection.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Reflection</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/type-safe-builders.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Type-Safe Builders</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="Reference">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Reference</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/api/latest/jvm/stdlib/index.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">API Reference</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/grammar.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Grammar</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="Java Interop">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Java Interop</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/java-interop.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Calling Java from Kotlin</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/java-to-kotlin-interop.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Calling Kotlin from Java</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="JavaScript">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">JavaScript</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/dynamic-type.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Dynamic Type</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/js-interop.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">JavaScript Interoperability</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/js-reflection.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">JavaScript Reflection</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="Tools">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Tools</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/kotlin-doc.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Documenting Kotlin Code</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/using-maven.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Using Maven</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/using-ant.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Using Ant</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/using-gradle.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Using Gradle</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/kotlin-osgi.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Kotlin and OSGi</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="FAQ">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">FAQ</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/faq.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">FAQ</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/comparison-to-java.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Comparison to Java</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/reference/comparison-to-scala.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Comparison to Scala</span>
                            </a>
                    </div>

            </div>
    </nav>


                <a href="/kotlin-web-site-ja/docs/kotlin-docs.pdf" class="reference-pdf-link">
                    <span class="icon"></span>
                    <span class="text">Full Kotlin Reference</span>
                </a>
            </div>
        </aside>

        <article role="main" class="page-content g-9">
<a href="https://github.com/dogwood008/kotlin-web-site-ja/edit/master/pages/docs/reference/generics.md"
   class="page-link-to-github"
   target="_blank"
   title="Edit this page on GitHub">
        <i class="github-icon"></i>
        <span class="text">Edit Page</span>
</a>
                
<!--original
- --
type: doc
layout: reference
category: "Syntax"
title: "Generics"
- --
-->
<h1 id="ジェネリクス">ジェネリクス</h1>
<!--original
# Generics
-->
<p>Javaと同じように、Kotlinのクラスは型パラメータを持っている場合があります。</p>
<!--original
As in Java, classes in Kotlin may have type parameters:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">class Box&lt;T&gt;(t: T) {
  var value = t
}
</code></pre>
<!--original
``` kotlin
class Box<T>(t: T) {
  var value = t
}
```
-->
<p>一般的に、このようなクラスのインスタンスを作成するために、我々は、型引数を提供する必要があります。</p>
<!--original
In general, to create an instance of such a class, we need to provide the type arguments:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val box: Box&lt;Int&gt; = Box&lt;Int&gt;(1)
</code></pre>
<!--original
``` kotlin
val box: Box<Int> = Box<Int>(1)
```
-->
<p>しかし、パラメータを推測することができる場合には、（例えば、コンストラクタの引数から、または何らかの他の手段によって）、「1」は、型引数を省略することができます：</p>
<!--original
But if the parameters may be inferred, e.g. from the constructor arguments or by some other means, one is allowed to omit the type arguments:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val box = Box(1) // 1 は Int型をもつため、ここでは Box&lt;Int&gt; について話しているとコンパイラはわかる
</code></pre>
<!--original
``` kotlin
val box = Box(1) // 1 has type Int, so the compiler figures out that we are talking about Box<Int>
```
-->
<h2 id="分散">分散</h2>
<!--original
## Variance
-->
<p>Javaの型システムの最もトリッキーな部分の一つは、ワイルドカードの種類（<a href="http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html">JavaのジェネリックのFAQ</a>を参照してください）です。そして、Kotlinは、いずれも持っていません。その代わり、2つの別のものがあります：宣言箇所の分散と型プロジェクションです。</p>
<!--original
One of the most tricky parts of Java's type system is wildcard types (see [Java Generics FAQ](http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html)).
And Kotlin doesn't have any. Instead, it has two other things: declaration-site variance and type projections.
-->
<p>まずは、Javaがこれらの神秘的なワイルドカードを必要とする理由について考えてみましょう。この問題は<a href="http://www.oracle.com/technetwork/java/effectivejava-136174.html">Effective Java</a>の項目28「APIの柔軟性を高めるためのバインドされたワイルドカードの使用」で説明されています。まず、Javaでジェネリック型は不変です。これは、 <code>List&lt;String&gt;</code> は <code>List&lt;Object&gt;</code> のサブタイプ <strong>ではない</strong> ことを意味します。なぜそうなのか？もしリストが <strong>不変</strong> でなかった場合は、次のコードはコンパイルされ、実行時に例外を発生させていたので、それは、Javaの配列より良いものではなかったでしょう。</p>
<!--original
First, let's think about why Java needs those mysterious wildcards. The problem is explained in [Effective Java](http://www.oracle.com/technetwork/java/effectivejava-136174.html), Item 28: *Use bounded wildcards to increase API flexibility*.
First, generic types in Java are **invariant**, meaning that `List<String>` is **not** a subtype of `List<Object>`. 
Why so? If List was not **invariant**, it would have been no 
better than Java's arrays, since the following code would have compiled and caused an exception at runtime:
-->
<pre><code class="code _highlighted" data-lang="text/x-java">// Java
List&lt;String&gt; strs = new ArrayList&lt;String&gt;();
List&lt;Object&gt; objs = strs; // !!! 今後の問題の原因はここにあります。 Javaはこれを禁止しています！
objs.add(1); // Integer を Strings のリストへ入れる
String s = strs.get(0); // !!! ClassCastException: Integer を String へキャストできない
</code></pre>
<p>つまり、Javaの実行時の安全性を保証するためにそのようなことを禁止しているのです。しかし、これはいくつかの意味があります。例えば、 <code>Collection</code> インタフェースからの <code>addAll()</code> メソッドを考えます。このメソッドのシグネチャは何でしょうか？直感的に、我々はそれをこのように置くと思います。</p>
<!--original
``` java
// Java
List<String> strs = new ArrayList<String>();
List<Object> objs = strs; // !!! The cause of the upcoming problem sits here. Java prohibits this!
objs.add(1); // Here we put an Integer into a list of Strings
String s = strs.get(0); // !!! ClassCastException: Cannot cast Integer to String
```
So, Java prohibits such things in order to guarantee run-time safety. But this has some implications. For example, consider the `addAll()` method from `Collection` 
interface. What's the signature of this method? Intuitively, we'd put it this way:
-->
<pre><code class="code _highlighted" data-lang="text/x-java">// Java
interface Collection&lt;E&gt; ... {
  void addAll(Collection&lt;E&gt; items);
}
</code></pre>
<!--original
``` java
// Java
interface Collection<E> ... {
  void addAll(Collection<E> items);
}
```
-->
<p>しかし、その後、次のような簡単なこと（完全に安全である）を行うことができなくなります。</p>
<!--original
But then, we would not be able to do the following simple thing (which is perfectly safe):
-->
<pre><code class="code _highlighted" data-lang="text/x-java">// Java
void copyAll(Collection&lt;Object&gt; to, Collection&lt;String&gt; from) {
  to.addAll(from); // !!! addAllのネイティブの宣言ではコンパイルできません：
                   //       Collection&lt;String&gt; は Collection &lt;Object&gt; のサブタイプではありません
}
</code></pre>
<!--original
``` java
// Java
void copyAll(Collection<Object> to, Collection<String> from) {
  to.addAll(from); // !!! Would not compile with the naive declaration of addAll:
                   //       Collection<String> is not a subtype of Collection<Object>
}
```
-->
<p>（Javaでは、この教訓に堅い方法を学びました。 <a href="http://www.oracle.com/technetwork/java/effectivejava-136174.html">Effective Java</a>の項目25「 <em>配列よりリストを好む</em> 」を参照してください。）</p>
<!--original
(In Java, we learned this lesson the hard way, see [Effective Java](http://www.oracle.com/technetwork/java/effectivejava-136174.html), Item 25: *Prefer lists to arrays*)

-->
<p>これが、 <code>addAll()</code> の実際のシグネチャが以下の通りになる理由です：</p>
<!--original
That's why the actual signature of `addAll()` is the following:
-->
<pre><code class="code _highlighted" data-lang="text/x-java">// Java
interface Collection&lt;E&gt; ... {
  void addAll(Collection&lt;? extends E&gt; items);
}
</code></pre>
<!--original
``` java
// Java
interface Collection<E> ... {
  void addAll(Collection<? extends E> items);
}
```
-->
<p><strong>ワイルドカード型引数</strong> <code>? extends T</code> は、このメソッドが受け入れるコレクションは <code>T</code> <strong>のサブタイプ</strong> のオブジェクトであって、 <code>T</code> 自身ではないことを示します。
私たちが安全に <code>T</code> の項目（このコレクションの要素は <code>T</code> のサブクラスのインスタンスです）を <strong>読み取る</strong> ことができても、未知の <code>T</code> のサブタイプに対して、どのオブジェクトが応じるかわからないため、 <strong>書き込みができない</strong> 理由はこれです。
この制限と引き換えに、私たちは望んだ動作を得ます： <code>Collection&lt;String&gt;</code> は <code>Collection&lt;? extends Object&gt;</code> のサブタイプ <em>である</em> ということ。
「賢い言葉」で言い換えると、 <strong>拡張する</strong> バインド（ <strong>上昇</strong> のバインド）のワイルドカードは <strong>型共変</strong> になります。</p>
<!--original
The **wildcard type argument** `? extends T` indicates that this method accepts a collection of objects of *some subtype of* `T`, not `T` itself. 
This means that we can safely **read** `T`'s from items (elements of this collection are instances of a subclass of T), but **cannot write** to 
it since we do not know what objects comply to that unknown subtype of `T`. 
In return for this limitation, we have the desired behaviour: `Collection<String>` *is* a subtype of `Collection<? extends Object>`. 
In "clever words", the wildcard with an **extends**\-bound (**upper** bound) makes the type **covariant**.
-->
<p>このトリックがなぜ働くのかを理解するための鍵は、かなりシンプルです：コレクションからアイテムを <strong>取り出す</strong> ことだけできるのならば、<code>String</code> のコレクションを使用して、 <code>Object</code> で読み出せば良いのです。
反対に、コレクションにアイテムを <em>入れる</em> ことだけできるのならば、 <code>Object</code> のコレクションを使用し、 <code>String</code> を入れても良いのです。 Javaでは <code>List&lt;Object&gt;</code> の <strong>スーパータイプ</strong> である、 <code>List&lt;? super String&gt;</code> を使用します。</p>
<!--original
The key to understanding why this trick works is rather simple: if you can only **take** items from a collection, then using a collection of `String`s
and reading `Object`s from it is fine. Conversely, if you can only _put_ items into the collection, it's OK to take a collection of
`Object`s and put `String`s into it: in Java we have `List<? super String>` a **supertype** of `List<Object>`.
-->
<p>後者は <strong>反変性</strong> と呼ばれ、 String を <code>List&lt;? super String&gt;</code> の引数としたメソッドを呼ぶことのみができます（例えば、 <code>add(String)</code> や <code>set(int, String)</code> を呼ぶことができます）。ただし、<code>List&lt;T&gt;</code> で <code>T</code> を返す何かを呼んだとき、得るのは <code>String</code> ではなく <code>Object</code> ですが。</p>
<!--original
The latter is called **contravariance**, and you can only call methods that take String as an argument on `List<? super String>` 
(e.g., you can call `add(String)` or `set(int, String)`), while 
if you call something that returns `T` in `List<T>`, you don't get a `String`, but an `Object`.
-->
<p>ジョシュア・ブロック (Joshua Bloch) はこれらのオブジェクトを 「 <strong>プロデューサ（生産者）</strong> からのみ <strong>読み込み</strong> 、<strong>コンシューマ（消費者）</strong> にのみ <strong>書き込む</strong> 」と呼びました。彼の勧めによると、 <em>「最大の柔軟性を得るために、プロデューサやコンシューマを表す入力パラメータにワイルドカードタイプを使用する」</em> 。 次の記憶術 (mnemonic) も提案しています。</p>
<!--original
Joshua Bloch calls those objects you only **read** from **Producers**, and those you only **write** to **Consumers**. He recommends: "*For maximum flexibility, use wildcard types on input parameters that represent producers or consumers*", and proposes the following mnemonic:
-->
<p><em>PECSはProducer-Extends, Consumer-Super を意味します。</em></p>
<!--original
*PECS stands for Producer-Extends, Consumer-Super.*
-->
<p><em>注</em> ：プロデューサオブジェクトを使用する場合（たとえば、 <code>List&lt;? extends Foo&gt;</code> ）、このオブジェクト上の <code>add()</code> や <code>set()</code> を呼び出すことができません。しかし、このオブジェクトは <strong>イミュータブル（不変）</strong> であるというわけでもありません。例えば、 <code>clear()</code> は全くパラメータを取らないため、リストからすべての項目を削除するために <code>clear()</code> を呼び出しても構いません。ワイルドカード（または分散の他の型）によって唯一保証されるのは <strong>型の安全性</strong> です。不変性は全く別の話です。</p>
<!--original
*NOTE*: if you use a producer-object, say, `List<? extends Foo>`, you are not allowed to call `add()` or `set()` on this object, but this does not mean 
that this object is **immutable**: for example, nothing prevents you from calling `clear()` to remove all items from the list, since `clear()` 
does not take any parameters at all. The only thing guaranteed by wildcards (or other types of variance) is **type safety**. Immutability is a completely different story.
-->
<h3 id="宣言箇所分散">宣言箇所分散</h3>
<!--original
### Declaration-site variance
-->
<p>ジェネリックインターフェイスの <code>Source&lt;T&gt;</code> があると仮定します。また、パラメータとして <code>T</code> をとるメソッドを持たず、 <code>T</code> を返すメソッドのみを持つとします。</p>
<!--original
Suppose we have a generic interface `Source<T>` that does not have any methods that take `T` as a parameter, only methods that return `T`:
-->
<pre><code class="code _highlighted" data-lang="text/x-java">// Java
interface Source&lt;T&gt; {
  T nextT();
}
</code></pre>
<!--original
``` java
// Java
interface Source<T> {
  T nextT();
}
```
-->
<p>それは <code>Source&lt;Object&gt;</code> 型の変数（呼び出せるコンシューマメソッドがない）内で <code>Source&lt;String&gt;</code> のインスタンスへの参照を保持するのに完全に安全です。 – しかし、Javaはこれを知っているし、まだそれを禁止していません：</p>
<!--original
Then, it would be perfectly safe to store a reference to an instance of `Source<String>` in a variable of type `Source<Object>` -- there are no consumer-methods to call. But Java does not know this, and still prohibits it:
-->
<pre><code class="code _highlighted" data-lang="text/x-java">// Java
void demo(Source&lt;String&gt; strs) {
  Source&lt;Object&gt; objects = strs; // !!! Java では許可されていない
  // ...
}
</code></pre>
<!--original
``` java
// Java
void demo(Source<String> strs) {
  Source<Object> objects = strs; // !!! Not allowed in Java
  // ...
}
```
-->
<p>これを修正するために、<code>Source&lt;? extends Object&gt;</code> 型のオブジェクトを宣言する必要があります。全ての同メソッドを前のような変数で呼ぶことができるので、順序に意味はなく、より複雑な型で追加することに価値はありません。しかし、コンパイラはそれを知りません。</p>
<!--original
To fix this, we have to declare objects of type `Source<? extends Object>`, which is sort of meaningless, because we can call all the same methods on such a variable as before, so there's no value added by the more complex type. But the compiler does not know that.
-->
<p>Kotlinでは、コンパイラにこの種の問題を説明する方法があります。これは、 <strong>宣言箇所分散</strong> と呼ばれています：ソースの <strong>型パラメータ</strong> <code>T</code> を <code>Source&lt;T&gt;</code> のメンバからのみ <strong>返し</strong> （プロデュースする）、消費されることがないということを確認するために、アノテーションを付けることができます。これを行うために、我々は <strong>out</strong> 修飾子を提供します。</p>
<!--original
In Kotlin, there is a way to explain this sort of thing to the compiler. This is called **declaration-site variance**: we can annotate the **type parameter** `T` of Source to make sure that it is only **returned** (produced) from members of `Source<T>`, and never consumed. 
To do this we provide the **out** modifier:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">abstract class Source&lt;out T&gt; {
  abstract fun nextT(): T
}

fun demo(strs: Source&lt;String&gt;) {
  val objects: Source&lt;Any&gt; = strs // これは OK 、なぜなら T はoutパラメータのため
  // ...
}
</code></pre>
<!--original
``` kotlin
abstract class Source<out T> {
  abstract fun nextT(): T
}

fun demo(strs: Source<String>) {
  val objects: Source<Any> = strs // This is OK, since T is an out-parameter
  // ...
}
```
-->
<p>一般的なルールは次のとおりです。クラス <code>C</code> の型パラメータ <code>T</code> が、 <strong>out</strong> として宣言されているとき、 <code>C</code> のメンバの中で <strong>out</strong> の位置でのみそれが起きることがあります。 しかし、 <code>C&lt;Base&gt;</code> を返すときは <code>C&lt;Derived&gt;</code> のスーパータイプに安全になり得ます。</p>
<!--original
The general rule is: when a type parameter `T` of a class `C` is declared **out**, it may occur only in **out**\-position in the members of `C`, but in return `C<Base>` can safely be a supertype 
of `C<Derived>`.
-->
<p>「賢い言葉」でいうと、クラス <code>C</code> は、パラメータ <code>T</code> に <strong>共変</strong> である、または <code>T</code> が <strong>共変</strong> の型パラメータであるとなります。 <code>C</code> は <code>T</code> の <strong>プロデューサ</strong> であり、 <code>T</code> の <strong>コンシューマ</strong> ではない、と考えることができます。</p>
<!--original
In "clever words" they say that the class `C` is **covariant** in the parameter `T`, or that `T` is a **covariant** type parameter. 
You can think of `C` as being a **producer** of `T`'s, and NOT a **consumer** of `T`'s.
-->
<p><strong>out</strong> 修飾子は、 <strong>分散アノテーション</strong> と呼ばれ、それは型パラメータの宣言箇所で提供されているので、我々は <strong>宣言箇所分散</strong> について話しています。
これは、ワイルドカードが使用時に型を共変にする、Javaの <strong>使用箇所分散</strong> とは対照的です。</p>
<!--original
The **out** modifier is called a **variance annotation**, and  since it is provided at the type parameter declaration site, we talk about **declaration-site variance**. 
This is in contrast with Java's **use-site variance** where wildcards in the type usages make the types covariant.
-->
<p><strong>out</strong> に加えて、Kotlinは <strong>in</strong> という補完的な分散アノテーションを提供します。これは、型パラメータの <strong>反変</strong> を行います。消費されるのみであり、決してプロデュース（生産）されません。
反変クラスの良い例は <code>Comparable</code> です：</p>
<!--original
In addition to **out**, Kotlin provides a complementary variance annotation: **in**. It makes a type parameter **contravariant**: it can only be consumed and never 
produced. A good example of a contravariant class is `Comparable`:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">abstract class Comparable&lt;in T&gt; {
  abstract fun compareTo(other: T): Int
}

fun demo(x: Comparable&lt;Number&gt;) {
  x.compareTo(1.0) // 1.0 は Number のサブタイプである Double 型をもつ
  // それゆえ、 x を Comparable&lt;Double&gt; 型の変数へ代入できる
  val y: Comparable&lt;Double&gt; = x // OK!
}
</code></pre>
<!--original
``` kotlin
abstract class Comparable<in T> {
  abstract fun compareTo(other: T): Int
}

fun demo(x: Comparable<Number>) {
  x.compareTo(1.0) // 1.0 has type Double, which is a subtype of Number
  // Thus, we can assign x to a variable of type Comparable<Double>
  val y: Comparable<Double> = x // OK!
}
```
-->
<p>（C#で何度も成功しているように）<strong>in</strong> と <strong>out</strong> は自己説明的であるゆえに、以前述べた記憶術（ニーモニック）は本当は不要で、より高次の目的のために言い換えることができます：</p>
<!--original
We believe that the words **in** and **out** are self-explaining (as they were successfully used in C# for quite some time already), 
thus the mnemonic mentioned above is not really needed, and one can rephrase it for a higher purpose:
-->
<p><strong><a href="http://en.wikipedia.org/wiki/Existentialism">実存的</a>言い換え：コンシューマ（消費者）は in、プロデューサ（生産者）は out ！</strong> :-)</p>
<!--original
**[The Existential](http://en.wikipedia.org/wiki/Existentialism) Transformation: Consumer in, Producer out\!** :-)
-->
<h2 id="タイププロジェクション型投影">タイププロジェクション（型投影）</h2>
<!--original
## Type projections
-->
<h3 id="利用箇所の分散タイププロジェクション">利用箇所の分散：タイププロジェクション</h3>
<!--original
### Use-site variance: Type projections
-->
<p><em>out</em> 型パラメータTを宣言し、使用箇所のサブタイプとの問題がないことは非常に便利です。
そう、それは問題のクラスが実際に <code>T</code> のインスタンスのみを返すよう制限 <strong>できる</strong> ときですが、できないのはどんなときでしょう。この良い例は、Arrayです。</p>
<!--original
It is very convenient to declare a type parameter T as *out* and have no trouble with subtyping on the use site. Yes, it is, when the class in question **can** actually be restricted to only return `T`'s, but what if it can't? 
A good example of this is Array:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">class Array&lt;T&gt;(val size: Int) {
  fun get(index: Int): T { /* ... */ }
  fun set(index: Int, value: T) { /* ... */ }
}
</code></pre>
<!--original
``` kotlin
class Array<T>(val size: Int) {
  fun get(index: Int): T { /* ... */ }
  fun set(index: Int, value: T) { /* ... */ }
}
```
-->
<p>このクラスは <code>T</code> の共変または反変のいずれかにもなることはできません。そして、これは特定の不撓（ふとう）性（曲げられない特性）を課しています。次の関数を考えてみます：</p>
<!--original
This class cannot be either co\- or contravariant in `T`. And this imposes certain inflexibilities. Consider the following function:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">fun copy(from: Array&lt;Any&gt;, to: Array&lt;Any&gt;) {
  assert(from.size == to.size)
  for (i in from.indices)
    to[i] = from[i]
}
</code></pre>
<!--original
``` kotlin
fun copy(from: Array<Any>, to: Array<Any>) {
  assert(from.size == to.size)
  for (i in from.indices)
    to[i] = from[i]
}
```
-->
<p>この関数は、ある配列から別の配列へ、アイテムをコピーすることになっています。それでは、実際にそれを適用してみましょう：</p>
<!--original
This function is supposed to copy items from one array to another. Let's try to apply it in practice:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val ints: Array&lt;Int&gt; = arrayOf(1, 2, 3)
val any = Array&lt;Any&gt;(3)
copy(ints, any) // エラー： (Array&lt;Any&gt;, Array&lt;Any&gt;) が期待されている
</code></pre>
<!--original
``` kotlin
val ints: Array<Int> = arrayOf(1, 2, 3)
val any = Array<Any>(3)
copy(ints, any) // Error: expects (Array<Any>, Array<Any>)
```
-->
<p>ここで同じようなよくある問題に遭遇します： <code>Array&lt;T&gt;</code> は <code>T</code> において <strong>不変</strong> であり、ゆえに <code>Array&lt;Int&gt;</code> も <code>Array&lt;Any&gt;</code> も他のサブタイプではありません。
どうして？コピーが何か悪いこと（すなわち <code>from</code> への文字列の <strong>書き込み</strong> や出力の試行）をやっている <strong>可能性がある</strong> ためです。また <code>Int</code> の配列を実際に渡されると、<code>ClassCastException</code> が時々後で投げられるでしょう。</p>
<!--original
Here we run into the same familiar problem: `Array<T>` is **invariant** in `T`, thus neither of `Array<Int>` and `Array<Any>` 
is a subtype of the other. Why? Again, because copy **might** be doing bad things, i.e. it might attempt to **write**, say, a String to `from`,
and if we actually passed an array of `Int` there, a `ClassCastException` would have been thrown sometime later.
-->
<p>ここで、唯一の保証したいことは、<code>copy()</code> がいかなる悪さもしないということです。 <code>copy()</code> が <code>from</code> に書き込むことを禁止したく、それを行うことはできます：</p>
<!--original
Then, the only thing we want to ensure is that `copy()` does not do any bad things. We want to prohibit it from **writing** to `from`, and we can:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">fun copy(from: Array&lt;out Any&gt;, to: Array&lt;Any&gt;) {
 // ...
}
</code></pre>
<!--original
``` kotlin
fun copy(from: Array<out Any>, to: Array<Any>) {
 // ...
}
```
-->
<p>ここで起こったことは、 <strong>タイププロジェクション（型投影）</strong> と呼ばれています。 <code>from</code> は単純に配列なのではなく、制限された（ <strong>投影された</strong> ）ものであるということです。型パラメータ <code>T</code> を返すこれらのメソッドはこのケースでのみ呼び出すことができます。
つまり、 <code>get()</code> を呼ぶことのみができるということです。これが、 <strong>使用箇所分散</strong> のための我々のアプローチであり、Javaの <code>Array&lt;? extends Object&gt;</code> に対応しますが、少しだけ簡単な方法です。</p>
<!--original
What has happened here is called **type projection**: we said that `from` is not simply an array, but a restricted (**projected**) one: we can only call those methods that return the type parameter 
`T`, in this case it means that we can only call `get()`. This is our approach to **use-site variance**, and corresponds to Java's `Array<? extends Object>`, 
but in a slightly simpler way.
-->
<p>このように <strong>in</strong> でタイププロジェクション（型投影）を使用できます：</p>
<!--original
You can project a type with **in** as well:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">fun fill(dest: Array&lt;in String&gt;, value: String) {
  // ...
}
</code></pre>
<!--original
``` kotlin
fun fill(dest: Array<in String>, value: String) {
  // ...
}
```
-->
<p><code>Array&lt;in String&gt;</code> は Javaの <code>Array&lt;? super String&gt;</code> に対応します。すなわち、 <code>CharSequence</code> の配列や <code>Object</code> の配列を <code>fill()</code> 関数へ渡すことができます。</p>
<!--original
`Array<in String>` corresponds to Java's `Array<? super String>`, i.e. you can pass an array of `CharSequence` or an array of `Object` to the `fill()` function.
-->
<h3 id="スタープロジェクション-star-projections">スタープロジェクション (star-projections)</h3>
<!--original
### Star-projections
-->
<p>型引数について何も知らないが、それでも安全な方法で使用したいと、時には言いたくなることもあるでしょう。ここでの安全な方法とは、ジェネリック型のそのようなプロジェクションを定義することです。ジェネリック型を具体的にインスタンス化すると、全てそのプロジェクションのサブタイプになります。</p>
<!--original
Sometimes you want to say that you know nothing about the type argument, but still want to use it in a safe way.
The safe way here is to define such a projection of the generic type, that every concrete instantiation of that generic type would be a subtype of that projection.
-->
<p>Kotlinはこのために、いわゆる <strong>スタープロジェクション (star-projection)</strong> 構文を提供します：</p>
<!--original
Kotlin provides so called **star-projection** syntax for this:
-->
<ul>
<li><code>Foo &lt;out T&gt;</code> の場合、<code>T</code> は上限 <code>TUpper</code> を持つ共変の型のパラメータであり、 <code>Foo &lt;*&gt;</code> は <code>Foo&lt;out TUpper&gt;</code> と等価です。これは、 <code>T</code> が不明な場合に、安全には <code>Foo &lt;*&gt;</code> から <code>TUpper</code> の値を読み取ることができることを意味します。</li>
<li><code>T</code> が反変の型パラメータである <code>Foo&lt;in T&gt;</code> については、 <code>Foo&lt;*&gt;</code> は <code>Foo &lt;in Nothing&gt;</code> と等価です。それは <code>T</code> は不明である場合は安全な方法で <code>Foo &lt;*&gt;</code> に書き込むことができる方法がないことを意味します。</li>
<li><code>Foo &lt;T&gt;</code> の場合、 <code>T</code> は上限 <code>TUpper</code> を持つ不変の型パラメータであり、値を読み込むための <code>Foo&lt;out TUpper&gt;</code>および値を書き込むための <code>Foo&lt;in Nothing&gt;</code> と <code>Foo &lt;*&gt;</code> は同等です。</li>
</ul>
<!--original
 - For `Foo<out T>`, where `T` is a covariant type parameter with the upper bound `TUpper`, `Foo<*>` is equivalent to `Foo<out TUpper>`. It means that when the `T` is unknown you can safely *read* values of `TUpper` from `Foo<*>`.
 - For `Foo<in T>`, where `T` is a contravariant type parameter, `Foo<*>` is equivalent to `Foo<in Nothing>`. It means there is nothing you can *write* to `Foo<*>` in a safe way when `T` is unknown.
 - For `Foo<T>`, where `T` is an invariant type parameter with the upper bound `TUpper`, `Foo<*>` is equivalent to `Foo<out TUpper>` for reading values and to `Foo<in Nothing>` for writing values.
-->
<p>ジェネリック型がいくつかの型パラメータをもつ場合、それらは独立してプロジェクション（投影）することができます。
例えば、型が <code>interface Function&lt;in T, out U&gt;</code> として宣言されている場合ならが、次のようなスタープロジェクションを想像することができます：</p>
<!--original
If a generic type has several type parameters each of them can be projected independently.
For example, if the type is declared as `interface Function<in T, out U>` we can imagine the following star-projections:
-->
<ul>
<li><code>Function&lt;*, String&gt;</code> は <code>Function&lt;in Nothing, String&gt;</code> を意味します</li>
<li><code>Function&lt;Int, *&gt;</code> は <code>Function&lt;Int, out Any?&gt;</code> を意味します</li>
<li><code>Function&lt;*, *&gt;</code> は <code>Function&lt;in Nothing, out Any?&gt;</code> を意味します</li>
</ul>
<!--original
 - `Function<*, String>` means `Function<in Nothing, String>`;
 - `Function<Int, *>` means `Function<Int, out Any?>`;
 - `Function<*, *>` means `Function<in Nothing, out Any?>`.
-->
<p><em>注意</em> ：スタープロジェクションは非常にJavaの raw タイプににていますが、安全です。</p>
<!--original
*Note*: star-projections are very much like Java's raw types, but safe.
-->
<h1 id="ジェネリック関数">ジェネリック関数</h1>
<!--original
# Generic functions
-->
<p>型パラメータを持つことができるのはクラスだけではありません。関数も同じです。
型パラメータは、関数名の前に置かれます。</p>
<!--original
Not only classes can have type parameters. Functions can, too. Type parameters are placed before the name of the function:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">fun &lt;T&gt; singletonList(item: T): List&lt;T&gt; {
  // ...
}

fun &lt;T&gt; T.basicToString() : String {  // 拡張関数
  // ...
}
</code></pre>
<!--original
``` kotlin
fun <T> singletonList(item: T): List<T> {
  // ...
}

fun <T> T.basicToString() : String {  // extension function
  // ...
}
```
-->
<p>ジェネリック関数を呼び出すには、関数名の <strong>後に</strong> 呼び出し箇所で型引数を指定します。</p>
<!--original
To call a generic function, specify the type arguments at the call site **after** the name of the function:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val l = singletonList&lt;Int&gt;(1)
</code></pre>
<!--original
``` kotlin
val l = singletonList<Int>(1)
```
-->
<h1 id="ジェネリックの制約">ジェネリックの制約</h1>
<!--original
# Generic constraints
-->
<p>与えられる型パラメータに置換することができるすべての許容される型の集合は、 <strong>ジェネリックの制約</strong> によって制限されてもかまいません。</p>
<!--original
The set of all possible types that can be substituted for a given type parameter may be restricted by **generic constraints**.
-->
<h2 id="上限-upper-bounds">上限 (Upper bounds)</h2>
<!--original
## Upper bounds
-->
<p>制約の最も一般的なタイプは、Javaの extends キーワードに対応する <strong>上限</strong> です。</p>
<!--original
The most common type of constraint is an **upper bound** that corresponds to Java's *extends* keyword:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">fun &lt;T : Comparable&lt;T&gt;&gt; sort(list: List&lt;T&gt;) {
  // ...
}
</code></pre>
<!--original
``` kotlin
fun <T : Comparable<T>> sort(list: List<T>) {
  // ...
}
```
-->
<p>コロンの後に指定されたタイプが <strong>上限</strong> です。 <code>Comparable&lt;T&gt;</code> のサブタイプは <code>T</code> の代わりに使用することができます。例えば：</p>
<!--original
The type specified after a colon is the **upper bound**: only a subtype of `Comparable<T>` may be substituted for `T`. For example
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">sort(listOf(1, 2, 3)) // OK. Int は Comparable&lt;Int&gt; のサブタイプです
sort(listOf(HashMap&lt;Int, String&gt;())) // エラー： HashMap&lt;Int, String&gt; は Comparable&lt;HashMap&lt;Int, String&gt;&gt; のサブタイプではない
</code></pre>
<!--original
``` kotlin
sort(listOf(1, 2, 3)) // OK. Int is a subtype of Comparable<Int>
sort(listOf(HashMap<Int, String>())) // Error: HashMap<Int, String> is not a subtype of Comparable<HashMap<Int, String>>
```
-->
<p>デフォルトの上限（いずれも指定されていない場合）は <code>Any?</code> です。唯一の上限を、角括弧内で指定することができます。
同じ型パラメータに複数の上限を必要とする場合、それぞれ独立した <strong>where</strong> 句が必要になります：</p>
<!--original
The default upper bound (if none specified) is `Any?`. Only one upper bound can be specified inside the angle brackets.
If the same type parameter needs more than one upper bound, we need a separate **where**\-clause:
-->
<pre><code class="code _highlighted" data-lang="text/x-kotlin">fun &lt;T&gt; cloneWhenGreater(list: List&lt;T&gt;, threshold: T): List&lt;T&gt;
    where T : Comparable,
          T : Cloneable {
  return list.filter { it &gt; threshold }.map { it.clone() }
}
</code></pre>
<!--original
``` kotlin
fun <T> cloneWhenGreater(list: List<T>, threshold: T): List<T>
    where T : Comparable,
          T : Cloneable {
  return list.filter { it > threshold }.map { it.clone() }
}
```
-->

        </article>
    </div>

    <script src='//code.jquery.com/jquery-1.11.0.min.js'></script>
    <script type="text/javascript">
    <!--
    $(function() {
      $("*").contents().filter(function() {
        return this.nodeType==8 && this.nodeValue.match(/^original/);
      }).each(function(i, e) {
        var tooltips = e.nodeValue.replace(/^original *[\n\r]|[\n\r]$/g, '');
        $(this).prev().attr('title', tooltips);
      });
    });
    -->
    </script>

    <script src="/kotlin-web-site-ja/_assets/reference.js"></script>
    </div>

</div>

<footer role="contentinfo" class="global-footer">

    <div class="global-footer-terms">
        <div class="g-layout">

            <div class="terms-copyright">
                &copy; 2000&ndash;2016 JetBrains. All rights reserved
            </div>

            <div class="terms-sponsor">
                Sponsored and developed by <a href="http://jetbrains.com" class="sponsor sponsor_jetbrains" target="_blank">JetBrains</a>
            </div>
        </div>
    </div>

</footer></body>
</html>