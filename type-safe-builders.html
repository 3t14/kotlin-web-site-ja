<!DOCTYPE html>
<!--[if (IE 7)&!(IEMobile)]><html class="no-js ie ie7" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js ie ie8" lang="en"><![endif]-->
<!--[if (IE 9)&!(IEMobile)]><html class="no-js ie ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<html>
<head>
<meta charset="utf-8">
<title>Type-Safe Groovy-Style Builders</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/kotlin-web-site-ja/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/kotlin-web-site-ja/assets/images/apple-touch-icon.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/kotlin-web-site-ja/assets/images/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/kotlin-web-site-ja/assets/images/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/kotlin-web-site-ja/assets/images/apple-touch-icon-144x144.png" />
<link rel="stylesheet" href="/kotlin-web-site-ja/css/styles.css">
<script src="/kotlin-web-site-ja/js/vendor/requirejs/require.js"></script>
<script src="/kotlin-web-site-ja/js/config/bootstrap.js"></script>
</head>
<body>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5P98');</script>
<!-- End Google Tag Manager -->
<!-- CrazyEgg -->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0013/6939.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>
<!-- End CrazyEgg -->


<div class="global-layout">

    <header class="global-header">

    <div class="global-header-panel">
        <div class="g-layout">
            <a class="global-header-logo" href="/kotlin-web-site-ja/">Kotlin</a>

            

            <nav role="navigation" class="global-nav">
    

    
        
        
        
        

        

        

        

        <a href="/kotlin-web-site-ja/"
           class="nav-item is_active"
        >
            Learn
        </a>
    
        
        
        
        

        

        

        

        <a href="/kotlin-web-site-ja/contribute.html"
           class="nav-item "
        >
            Contribute
        </a>
    
        
        
        
        

        

        

        

        <a href="http://try.kotlinlang.org"
           class="nav-item "
        >
            Try Online
        </a>
    
        
        
        
        

        
            

    
        <div class="extra-nav download-button">
            <a href="/kotlin-web-site-ja/#get-kotlin" class="get-kotlin-button">
                Get Kotlin
                <span class="version">(1.0.0-beta-1103)</span>
            </a>
        </div>
    

    <div id="global-search" class=" global-search" title="Search">
    <div class="search-button">
        <div class="icon"></div>
    </div>
    <div class="search-box">
        <div class="gcse-searchbox-only"
             data-resultsUrl="/search.html"
             data-newWindow="false"
        ></div>
    </div>
</div>
</nav>

        </div>
    </div>
    
    <div class="g-layout">
        
    </div>
</header>

    <div class="g-layout global-content">
        <div class="g-grid">

    <div class="g-12">
        
    

    <nav role="navigation" class="docs-nav">
        
            
            

            <div class="nav-item-wrap">
            
                    <a href="/kotlin-web-site-ja/" class="nav-item is_active">
                        <span class="nav-item-text">
                            Reference
                        </span>
                    </a>
            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-ja/docs/tutorials/" class="nav-item">
                    <span class="nav-item-text">
                        Tutorials
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-ja/docs/videos.html" class="nav-item">
                    <span class="nav-item-text">
                        Videos
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-ja/docs/events.html" class="nav-item">
                    <span class="nav-item-text">
                        Events
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-ja/docs/resources.html" class="nav-item">
                    <span class="nav-item-text">
                        More resources
                    </span>
                </a>

            
            </div>
        
    </nav>


    </div>

    <aside class="g-3">
        <div id="reference-nav">
            





<nav role="navigation" class="side-tree-nav">

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Getting Started">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Getting Started</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/basic-syntax.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Basic Syntax</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/idioms.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Idioms</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/coding-conventions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Coding Conventions</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Basics">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Basics</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/basic-types.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Basic Types</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/packages.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Packages</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/control-flow.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Control Flow</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/returns.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Returns and Jumps</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Classes and Objects">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Classes and Objects</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Classes and Inheritance</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/properties.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Properties and Fields</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/interfaces.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Interfaces</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/visibility-modifiers.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Visibility Modifiers</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/extensions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Extensions</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/data-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Data Classes</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/generics.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Generics</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/nested-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Nested Classes</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/enum-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Enum Classes</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/object-declarations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Objects</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/delegation.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Delegation</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/delegated-properties.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Delegated Properties</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Functions and Lambdas">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Functions and Lambdas</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/functions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Functions</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/lambdas.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Lambdas</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/inline-functions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Inline Functions</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Other">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Other</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/multi-declarations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Multi-Declarations</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/ranges.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Ranges</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/typecasts.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Type Checks and Casts</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/this-expressions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">This expressions</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/equality.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Equality</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/operator-overloading.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Operator overloading</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/null-safety.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Null Safety</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/exceptions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Exceptions</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/annotations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Annotations</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/reflection.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Reflection</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/type-safe-builders.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Type-Safe Builders</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/dynamic-type.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Dynamic Type</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Reference">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Reference</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/api/latest/jvm/stdlib/index.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">API Reference</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/grammar.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Grammar</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Interop">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Interop</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/java-interop.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Java Interop</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Tools">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Tools</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/kotlin-doc.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Documenting Kotlin Code</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/using-maven.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Using Maven</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/using-ant.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Using Ant</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/using-gradle.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Using Gradle</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/kotlin-osgi.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Kotlin and OSGi</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="FAQ">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">FAQ</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/faq.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">FAQ</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/comparison-to-java.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Comparison to Java</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-ja/comparison-to-scala.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Comparison to Scala</span></a>
            
            </div>
        

    </div>

    

</nav>

            <a href="/kotlin-web-site-ja/kotlin-docs.pdf" class="reference-pdf-link">
                <span class="icon"></span>
                <span class="text">Full Kotlin Reference</span>
            </a>
        </div>
    </aside>

    <article role="main" class="page-content g-9">
        


<a href="https://github.com/dogwood008/kotlin-web-site-ja/edit/master/docs/reference/type-safe-builders.md"
   class="page-link-to-github"
   target="_blank"
   title="Edit this page on GitHub">
        <i class="github-icon"></i>
        <span class="text">Edit Page</span>
</a>

        <h1 id="type-safe-builders">Type-Safe Builders<a href="#type-safe-builders" class="anchor"></a></h1>

<p>The concept of <a href="http://groovy.codehaus.org/Builders">builders</a> is rather popular in the <em>Groovy</em> community. 
Builders allow for defining data in a semi-declarative way. Builders are good for <a href="http://groovy.codehaus.org/GroovyMarkup">generating XML</a>, 
<a href="http://groovy.codehaus.org/GroovySWT">laying out UI components</a>, 
<a href="http://www.artima.com/weblogs/viewpost.jsp?thread=296081">describing 3D scenes</a> and more…</p>

<p>For many use cases, Kotlin allows to <em>type-check</em> builders, which makes them even more attractive than the 
dynamically-typed implementation made in Groovy itself.</p>

<p>For the rest of the cases, Kotlin supports Dynamic types builders.</p>

<h2 id="a-type-safe-builder-example">A type-safe builder example<a href="#a-type-safe-builder-example" class="anchor"></a></h2>

<p>Consider the following code that is taken from <a href="http://groovy.codehaus.org/Builders">here</a> and slightly adapted:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">import</span> <span class="nn">com.example.html.*</span> <span class="c1">// see declarations below</span>

<span class="k">fun</span> <span class="nf">result</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">=</span>
  <span class="n">html</span> <span class="p">{</span>
    <span class="n">head</span> <span class="p">{</span>
      <span class="n">title</span> <span class="p">{+</span><span class="s">&quot;XML encoding with Kotlin&quot;</span><span class="p">}</span>
    <span class="p">}</span>
    <span class="n">body</span> <span class="p">{</span>
      <span class="n">h1</span> <span class="p">{+</span><span class="s">&quot;XML encoding with Kotlin&quot;</span><span class="p">}</span>
      <span class="n">p</span>  <span class="p">{+</span><span class="s">&quot;this format can be used as an alternative markup to XML&quot;</span><span class="p">}</span>

      <span class="c1">// an element with attributes and text content</span>
      <span class="n">a</span><span class="p">(</span><span class="n">href</span> <span class="p">=</span> <span class="s">&quot;http://kotlinlang.org&quot;</span><span class="p">)</span> <span class="p">{+</span><span class="s">&quot;Kotlin&quot;</span><span class="p">}</span>

      <span class="c1">// mixed content</span>
      <span class="n">p</span> <span class="p">{</span>
        <span class="p">+</span><span class="s">&quot;This is some&quot;</span>
        <span class="n">b</span> <span class="p">{+</span><span class="s">&quot;mixed&quot;</span><span class="p">}</span>
        <span class="p">+</span><span class="s">&quot;text. For more see the&quot;</span>
        <span class="n">a</span><span class="p">(</span><span class="n">href</span> <span class="p">=</span> <span class="s">&quot;http://kotlinlang.org&quot;</span><span class="p">)</span> <span class="p">{+</span><span class="s">&quot;Kotlin&quot;</span><span class="p">}</span>
        <span class="p">+</span><span class="s">&quot;project&quot;</span>
      <span class="p">}</span>
      <span class="n">p</span> <span class="p">{+</span><span class="s">&quot;some text&quot;</span><span class="p">}</span>

      <span class="c1">// content generated by</span>
      <span class="n">p</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">arg</span> <span class="k">in</span> <span class="n">args</span><span class="p">)</span>
          <span class="p">+</span><span class="n">arg</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span></code></pre>

<p>This is a completely legitimate Kotlin code. 
You can play with this code online (modify it and run in the browser) <a href="http://try.kotlinlang.org/#/Examples/Longer examples/HTML Builder/HTML Builder.kt">here</a>.</p>

<h2 id="how-it-works">How it works<a href="#how-it-works" class="anchor"></a></h2>

<p>Let’s walk through the mechanisms of implementing type-safe builders in Kotlin.
First of all we need to define the model we want to build, in this case we need to model HTML tags.
It is easily done with a bunch of classes.
For example, <code>HTML</code> is a class that describes the <code>&lt;html&gt;</code> tag, i.e. it defines children like <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code>.
(See its declaration <a href="#declarations">below</a>.)</p>

<p>Now, let’s recall why we can say something like this in the code:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="n">html</span> <span class="p">{</span>
 <span class="c1">// ...</span>
<span class="p">}</span></code></pre>

<p>This is actually a function call that takes a <a href="lambdas.html">function literal</a> as an argument
(see <a href="lambdas.html#higher-order-functions">this page</a> for details). Actually, this function is defined as follows:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">fun</span> <span class="nf">html</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">HTML</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">):</span> <span class="n">HTML</span> <span class="p">{</span>
  <span class="k">val</span> <span class="py">html</span> <span class="p">=</span> <span class="n">HTML</span><span class="p">()</span>
  <span class="n">html</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
  <span class="k">return</span> <span class="n">html</span>
<span class="p">}</span></code></pre>

<p>This function takes one parameter named <code>init</code>, which is itself a function.
Actually, it is an <a href="extensions.html">extension function</a> that has a receiver of type <code>HTML</code> (and returns nothing interesting, i.e. <code>Unit</code>).
So, when we pass a function literal as an argument to <code>html</code>, it is typed as an extension function literal,
and there’s a <em class="keyword">this</em> reference available:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="n">html</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="n">head</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="n">body</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
<span class="p">}</span></code></pre>

<p>(<code>head</code> and <code>body</code> are member functions of <code>html</code>.)</p>

<p>Now, <em class="keyword">this</em> can be omitted, as usual, and we get something that looks very much like a builder already:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="n">html</span> <span class="p">{</span>
  <span class="n">head</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
  <span class="n">body</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
<span class="p">}</span></code></pre>

<p>So, what does this call do? Let’s look at the body of <code>html</code> function as defined above.
It creates a new instance of <code>HTML</code>, then it initializes it by calling the function that is passed as an argument
(in our example this boils down to calling <code>head</code> and <code>body</code> on the <code>HTML</code> instance), and then it returns this instance. 
This is exactly what a builder should do.</p>

<p>The <code>head</code> and <code>body</code> functions in the <code>HTML</code> class are defined similarly to <code>html</code>. 
The only difference is that they add the built instances to the <code>children</code> collection of the enclosing <code>HTML</code> instance:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">fun</span> <span class="nf">head</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">Head</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">:</span> <span class="n">Head</span> <span class="p">{</span>
  <span class="k">val</span> <span class="py">head</span> <span class="p">=</span> <span class="n">Head</span><span class="p">()</span>
  <span class="n">head</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
  <span class="n">children</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">head</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">head</span>
<span class="p">}</span>

<span class="k">fun</span> <span class="nf">body</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">Body</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">:</span> <span class="n">Body</span> <span class="p">{</span>
  <span class="k">val</span> <span class="py">body</span> <span class="p">=</span> <span class="n">Body</span><span class="p">()</span>
  <span class="n">body</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
  <span class="n">children</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">body</span>
<span class="p">}</span></code></pre>

<p>Actually these two functions do just the same thing, so we can have a generic version, <code>initTag</code>:</p>

<pre><code class="code-block _highlighted lang_kotlin">  <span class="k">protected</span> <span class="k">fun</span> <span class="nf">initTag</span><span class="p">&lt;</span><span class="n">T</span> <span class="p">:</span> <span class="n">Element</span><span class="p">&gt;(</span><span class="n">tag</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="n">init</span><span class="p">:</span> <span class="n">T</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">):</span> <span class="n">T</span> <span class="p">{</span>
    <span class="n">tag</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
    <span class="n">children</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tag</span>
  <span class="p">}</span></code></pre>

<p>So, now our functions are very simple:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">fun</span> <span class="nf">head</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">Head</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">=</span> <span class="n">initTag</span><span class="p">(</span><span class="n">Head</span><span class="p">(),</span> <span class="n">init</span><span class="p">)</span>

<span class="k">fun</span> <span class="nf">body</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">Body</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">=</span> <span class="n">initTag</span><span class="p">(</span><span class="n">Body</span><span class="p">(),</span> <span class="n">init</span><span class="p">)</span></code></pre>

<p>And we can use them to build <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> tags.</p>

<p>One other thing to be discussed here is how we add text to tag bodies. In the example above we say something like</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="n">html</span> <span class="p">{</span>
  <span class="n">head</span> <span class="p">{</span>
    <span class="n">title</span> <span class="p">{+</span><span class="s">&quot;XML encoding with Kotlin&quot;</span><span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// ...</span>
<span class="p">}</span></code></pre>

<p>So basically, we just put a string inside a tag body, but there is this little <code>+</code> in front of it,
so it is a function call that invokes a prefix <code>plus()</code> operation. 
That operation is actually defined by an extension function <code>plus()</code> that is a member of the <code>TagWithText</code> abstract class (a parent of <code>Title</code>):</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">fun</span> <span class="nf">String</span><span class="p">.</span><span class="n">plus</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">children</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">TextElement</span><span class="p">(</span><span class="k">this</span><span class="p">))</span>
<span class="p">}</span></code></pre>

<p>So, what the prefix <code>+</code> does here is it wraps a string into an instance of <code>TextElement</code> and adds it to the <code>children</code> collection,
so that it becomes a proper part of the tag tree.</p>

<p>All this is defined in a package <code>com.example.html</code> that is imported at the top of the builder example above.
In the next section you can read through the full definition of this package.</p>

<h2 id="full-definition-of-the-comexamplehtml-package">Full definition of the <code>com.example.html</code> package<a href="#full-definition-of-the-comexamplehtml-package" class="anchor"></a></h2>

<p>This is how the package <code>com.example.html</code> is defined (only the elements used in the example above).
It builds an HTML tree. It makes heavy use of <a href="extensions.html">Extension functions</a> and
<a href="lambdas.html#extension-function-expressions">Extension function literals</a>.</p>

<p><a name="declarations"></a></p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">package</span> <span class="nn">com.example.html</span>

<span class="n">interface</span> <span class="n">Element</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">render</span><span class="p">(</span><span class="n">builder</span><span class="p">:</span> <span class="n">StringBuilder</span><span class="p">,</span> <span class="n">indent</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">toString</span><span class="p">():</span> <span class="n">String</span> <span class="p">{</span>
        <span class="k">val</span> <span class="py">builder</span> <span class="p">=</span> <span class="n">StringBuilder</span><span class="p">()</span>
        <span class="n">render</span><span class="p">(</span><span class="n">builder</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">builder</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">TextElement</span><span class="p">(</span><span class="k">val</span> <span class="py">text</span><span class="p">:</span> <span class="n">String</span><span class="p">):</span> <span class="n">Element</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">render</span><span class="p">(</span><span class="n">builder</span><span class="p">:</span> <span class="n">StringBuilder</span><span class="p">,</span> <span class="n">indent</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">builder</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;$indent$text\n&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">abstract</span> <span class="k">class</span> <span class="nc">Tag</span><span class="p">(</span><span class="k">val</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span><span class="p">):</span> <span class="n">Element</span> <span class="p">{</span>
    <span class="k">val</span> <span class="py">children</span> <span class="p">=</span> <span class="n">arrayListOf</span><span class="p">&lt;</span><span class="n">Element</span><span class="p">&gt;()</span>
    <span class="k">val</span> <span class="py">attributes</span> <span class="p">=</span> <span class="n">hashMapOf</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">String</span><span class="p">&gt;()</span>

    <span class="k">protected</span> <span class="k">fun</span> <span class="nf">initTag</span><span class="p">&lt;</span><span class="n">T</span><span class="p">:</span> <span class="n">Element</span><span class="p">&gt;(</span><span class="n">tag</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="n">init</span><span class="p">:</span> <span class="n">T</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">):</span> <span class="n">T</span> <span class="p">{</span>
        <span class="n">tag</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">children</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tag</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">render</span><span class="p">(</span><span class="n">builder</span><span class="p">:</span> <span class="n">StringBuilder</span><span class="p">,</span> <span class="n">indent</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">builder</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;$indent&lt;$name${renderAttributes()}&gt;\n&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">c</span> <span class="k">in</span> <span class="n">children</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">c</span><span class="p">.</span><span class="n">render</span><span class="p">(</span><span class="n">builder</span><span class="p">,</span> <span class="n">indent</span> <span class="p">+</span> <span class="s">&quot;  &quot;</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="n">builder</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;$indent&lt;/$name&gt;\n&quot;</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">fun</span> <span class="nf">renderAttributes</span><span class="p">():</span> <span class="n">String</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">val</span> <span class="py">builder</span> <span class="p">=</span> <span class="n">StringBuilder</span><span class="p">()</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">a</span> <span class="k">in</span> <span class="n">attributes</span><span class="p">.</span><span class="n">keySet</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">builder</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot; $a=\&quot;${attributes[a]}\&quot;&quot;</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">builder</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">abstract</span> <span class="k">class</span> <span class="nc">TagWithText</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n">String</span><span class="p">):</span> <span class="n">Tag</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">operator</span> <span class="k">fun</span> <span class="nf">String</span><span class="p">.</span><span class="n">plus</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">children</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">TextElement</span><span class="p">(</span><span class="k">this</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">HTML</span><span class="p">():</span> <span class="n">TagWithText</span><span class="p">(</span><span class="s">&quot;html&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">head</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">Head</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">=</span> <span class="n">initTag</span><span class="p">(</span><span class="n">Head</span><span class="p">(),</span> <span class="n">init</span><span class="p">)</span>

    <span class="k">fun</span> <span class="nf">body</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">Body</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">=</span> <span class="n">initTag</span><span class="p">(</span><span class="n">Body</span><span class="p">(),</span> <span class="n">init</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Head</span><span class="p">():</span> <span class="n">TagWithText</span><span class="p">(</span><span class="s">&quot;head&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">title</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">Title</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">=</span> <span class="n">initTag</span><span class="p">(</span><span class="n">Title</span><span class="p">(),</span> <span class="n">init</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Title</span><span class="p">():</span> <span class="n">TagWithText</span><span class="p">(</span><span class="s">&quot;title&quot;</span><span class="p">)</span>

<span class="k">abstract</span> <span class="k">class</span> <span class="nc">BodyTag</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n">String</span><span class="p">):</span> <span class="n">TagWithText</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">b</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">B</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">=</span> <span class="n">initTag</span><span class="p">(</span><span class="n">B</span><span class="p">(),</span> <span class="n">init</span><span class="p">)</span>
    <span class="k">fun</span> <span class="nf">p</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">P</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">=</span> <span class="n">initTag</span><span class="p">(</span><span class="n">P</span><span class="p">(),</span> <span class="n">init</span><span class="p">)</span>
    <span class="k">fun</span> <span class="nf">h1</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">H1</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">=</span> <span class="n">initTag</span><span class="p">(</span><span class="n">H1</span><span class="p">(),</span> <span class="n">init</span><span class="p">)</span>
    <span class="k">fun</span> <span class="nf">a</span><span class="p">(</span><span class="n">href</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="n">init</span><span class="p">:</span> <span class="n">A</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">val</span> <span class="py">a</span> <span class="p">=</span> <span class="n">initTag</span><span class="p">(</span><span class="n">A</span><span class="p">(),</span> <span class="n">init</span><span class="p">)</span>
        <span class="n">a</span><span class="p">.</span><span class="n">href</span> <span class="p">=</span> <span class="n">href</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Body</span><span class="p">():</span> <span class="n">BodyTag</span><span class="p">(</span><span class="s">&quot;body&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">():</span> <span class="n">BodyTag</span><span class="p">(</span><span class="s">&quot;b&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">P</span><span class="p">():</span> <span class="n">BodyTag</span><span class="p">(</span><span class="s">&quot;p&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">H1</span><span class="p">():</span> <span class="n">BodyTag</span><span class="p">(</span><span class="s">&quot;h1&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">A</span><span class="p">():</span> <span class="n">BodyTag</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">var</span> <span class="py">href</span><span class="p">:</span> <span class="n">String</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="n">attributes</span><span class="p">[</span><span class="s">&quot;href&quot;</span><span class="p">]</span><span class="o">!!</span>
        <span class="k">set</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">attributes</span><span class="p">[</span><span class="s">&quot;href&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="n">value</span>
        <span class="p">}</span>
<span class="p">}</span>

<span class="k">fun</span> <span class="nf">html</span><span class="p">(</span><span class="n">init</span><span class="p">:</span> <span class="n">HTML</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">):</span> <span class="n">HTML</span> <span class="p">{</span>
    <span class="k">val</span> <span class="py">html</span> <span class="p">=</span> <span class="n">HTML</span><span class="p">()</span>
    <span class="n">html</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">html</span>
<span class="p">}</span></code></pre>

    </article>
</div>

<script>
require(['page/reference'], function(page) {
    page();
});
</script>
    </div>

</div>

<footer role="contentinfo" class="global-footer">

    <div class="global-footer-terms">
        <div class="g-layout">

            <div class="terms-copyright">
                &copy; 2000&ndash;2015 JetBrains. All rights reserved
            </div>

            <div class="terms-sponsor">
                Sponsored and developed by <a href="http://jetbrains.com" class="sponsor sponsor_jetbrains" target="_blank">JetBrains</a>
            </div>
        </div>
    </div>

</footer>
<script>require(['com/search']);</script>
</body>
</html>